---
title: 深入理解按位操作符
categories:
  - 算法
tags:
  - 算法
abbrlink: 3953655a
date: 2019-03-15 14:57:43
---

## 概述

按位操作符（Bitwise operators） 的计算主要用在二进制中，虽然平时很少有机会用到按位操作符，但不得不承认，在某些时候，这些操作符能够给我们提供很好的解决方案。

下面介绍各种操作符时，也会提供一些比较经典的例子，来看看它们是如何巧妙地解决问题的吧。

## 正文

### 二进制

> 本文假设你知道计算机中用二进制数来存储，计算数字，并且熟悉二进制数的表示方法。

在这之前，先简单讲一下真值、原码、反码和补码。

#### 真值

我们表示自然数包括正数，负数和0，下面是1和-1的二进制表示：

```
+ 00000001 # +1
- 00000001 # -1
```

8位二进制数能表示的真值范围是[-2^8, +2^8]。

#### 原码

但是计算机只能存储0和1，不能存储正负，所以一个数的最高位存放符号，正数为0，负数为1，用后面七位来表示真值的绝对值：

```
0 0000001 # +1
1 0000001 # -1
```

由于`10000000`表示为 -0 ,这个没有意义，所以这个数字被用来表示 -128，所以负数就比整数多一个。

由于最高位被用来表示符号了，现在能表示的范围是[-2^7,+2^7-1]，即[-128,+127]。

#### 反码

反码的表示方法是：正数不变，负数是在其原码的基础上，符号位不变，其余位取反：

```
0 0000001 # +1
1 1111110 # -1
```

反码的表示范围和原码一样，是[-2^7,+2^7-1]，即[-128,+127]。

#### 补码

补码的作用主要是为了简化运算，将减法变为加法而发明的数学表示法，其表示方法是：正数不变，负数是在其反码的基础上+1：

```
0 0000001 # +1
1 1111111 # -1
```

#### 最后

```
[+1] = [0 0000001]原 = [0 0000001]反 = [0 0000001]补

[-1] = [1 0000001]原 = [1 1111110]反 = [1 1111111]补
```

### 一、按位与（AND）

### 二、按位或（OR）

### 三、按位异或（XOR）

### 四、按位非（~a）

### 五、左移（Left shift）

### 六、有符号右移

### 七、无符号右移

## 参考资料

- [原码, 反码, 补码 详解](https://www.cnblogs.com/zhangziqiu/archive/2011/03/30/ComputerCode.html)
- [真值，原码，反码，补码和移码 释义](https://blog.csdn.net/oscar999/article/details/8928789)
- [聊聊JavaScript中的二进制数](https://yanhaijing.com/javascript/2016/07/20/binary-in-js/)
- [按位操作符 ](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators)